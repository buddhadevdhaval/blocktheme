(()=>{"use strict";var e,a={31(){const e=window.wp.i18n,a=window.wp.blockEditor,i=window.wp.components,l=window.wp.element,t=window.wp.data,s=window.ReactJSXRuntime,n=[{key:"two-column",label:"2 Column Layout",itemCount:2,preview:"/wp-content/themes/ambrygen/assets/src/blocks/gallery/two-column.png"},{key:"five-column",label:"5 Column Layout",itemCount:5,preview:"/wp-content/themes/ambrygen/assets/src/blocks/gallery/five-column.png"}];function r({title:l,imageUrl:t,imageAlt:n,onSelect:r,onRemove:c,selectLabel:o,replaceLabel:d,removeLabel:m,headingTag:g,onHeadingTagChange:h,link:b,onLinkChange:p}){return(0,s.jsx)(i.PanelBody,{title:l,initialOpen:!1,children:t?(0,s.jsxs)("div",{className:"image-preview",children:[(0,s.jsx)("img",{src:t,alt:n}),(0,s.jsxs)("div",{className:"image-actions",children:[(0,s.jsx)(a.MediaUploadCheck,{children:(0,s.jsx)(a.MediaUpload,{onSelect:r,allowedTypes:["image"],render:({open:e})=>(0,s.jsx)(i.Button,{onClick:e,variant:"secondary",children:d})})}),(0,s.jsx)(i.Button,{variant:"link",isDestructive:!0,onClick:c,children:m})]}),(0,s.jsx)(i.SelectControl,{label:(0,e.__)("Heading Tag","ambrygen-web"),value:g||"h5",options:[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}],onChange:h}),(0,s.jsx)(a.URLInput,{label:(0,e.__)("Link","ambrygen-web"),value:b||"",onChange:p,className:"components-base-control",__experimentalSuggestions:!0})]}):(0,s.jsx)(a.MediaUploadCheck,{children:(0,s.jsx)(a.MediaUpload,{onSelect:r,allowedTypes:["image"],render:({open:e})=>(0,s.jsx)(i.Button,{onClick:e,variant:"primary",children:o})})})})}const c=JSON.parse('{"UU":"ambrygen/gallery"}');(0,window.wp.blocks.registerBlockType)(c.UU,{edit:function({attributes:c,setAttributes:o,clientId:d}){const{items:m=[],variation:g="two-column",heading:h=""}=c,b=(n.find(e=>e.key===g)||n[0]).itemCount;(0,l.useEffect)(()=>{let a=[...m];for(;a.length<b;)a.push({imageUrl:"",imageId:0,imageAlt:"",imageSrcSet:"",imageSizes:"(max-width: 768px) 100vw, 33vw",title:(0,e.__)("Grid Item Title","ambrygen-web"),headingTag:"h5",description:"",link:""});a.length>b&&(a=a.slice(0,b)),a.length!==m.length&&o({items:a})},[g,m,b,o]);const p=(0,l.useCallback)((e,a,i)=>{const l=[...m];l[e]={...l[e],[a]:i},o({items:l})},[m,o]),v=(0,l.useCallback)((e,a)=>{const i=a?.sizes||a?.media_details?.sizes||{},l=[...m];l[e]={...l[e],imageUrl:a.url,imageId:a.id,imageAlt:a.alt||"",imageSrcSet:buildSrcSet(i),imageSizes:"(max-width: 768px) 100vw, 33vw"},o({items:l})},[m,o]),u=e=>{e&&((0,t.dispatch)("core/block-editor").selectBlock(e),(0,t.dispatch)("core/edit-post").openGeneralSidebar("edit-post/block"))},x=(0,a.useBlockProps)({className:`image-grid-block variation-${g}`});return(0,s.jsxs)(l.Fragment,{children:[(0,s.jsxs)(a.InspectorControls,{children:[(0,s.jsx)(i.PanelBody,{title:(0,e.__)("Choose Variation","ambrygen-web"),initialOpen:!0,children:(0,s.jsx)("div",{className:"ambrygen-variation-selector",children:n.map(e=>(0,s.jsxs)("button",{type:"button",className:"variation-card "+(g===e.key?"is-active":""),onClick:()=>o({variation:e.key}),children:[(0,s.jsx)("img",{src:e.preview,alt:e.label}),(0,s.jsx)("span",{children:e.label})]},e.key))})}),m.map((a,i)=>(0,s.jsx)(r,{title:(0,e.sprintf)((0,e.__)("Image Grid %d","ambrygen-web"),i+1),imageUrl:a.imageUrl,imageAlt:a.imageAlt,selectLabel:(0,e.__)("Select Image","ambrygen-web"),replaceLabel:(0,e.__)("Replace Image","ambrygen-web"),removeLabel:(0,e.__)("Remove Image","ambrygen-web"),onSelect:e=>v(i,e),onRemove:()=>p(i,"imageUrl",""),headingTag:a.headingTag,onHeadingTagChange:e=>p(i,"headingTag",e),link:a.link,onLinkChange:e=>p(i,"link",e)},i))]}),(0,s.jsx)("div",{...x,className:"wp-block-group",children:(0,s.jsxs)("section",{className:"container-1340",children:[(0,s.jsx)("div",{className:"is-style-gl-s48"}),(0,s.jsx)("div",{className:"wrapper",children:(0,s.jsxs)("div",{className:"get-started-ambry-block",children:[(0,s.jsx)("h2",{className:"block-title heading-3 mb-0",children:(0,s.jsx)(a.RichText,{tagName:"span",value:h,onChange:e=>o({heading:e}),placeholder:(0,e.__)("Get Started with Ambry","ambrygen-web"),allowedFormats:["core/text-color"]})}),(0,s.jsx)("div",{className:"card-grid-block",children:m.map((i,l)=>{const t=i.headingTag||"h5";return(0,s.jsxs)("div",{className:"card-col",children:[(0,s.jsx)("div",{className:"image-block",role:"button",tabIndex:0,onClick:()=>u(d),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||u(d)},children:(0,s.jsx)("img",{src:i.imageUrl||"/wp-content/themes/ambrygen/assets/src/images/uploads/default-image.webp",srcSet:i.imageSrcSet||void 0,sizes:i.imageSizes||void 0,alt:i.imageAlt||i.title,loading:"lazy"})}),(0,s.jsxs)("div",{className:"card-info",children:[(0,s.jsx)(t,{className:"link-btn mb-0",children:(0,s.jsx)(a.RichText,{value:i.title,onChange:e=>p(l,"title",e),placeholder:(0,e.__)("Add title…","ambrygen-web")})}),(0,s.jsx)("div",{className:"card-description text-small",children:(0,s.jsx)(a.RichText,{value:i.description,onChange:e=>p(l,"description",e),placeholder:(0,e.__)("Add description…","ambrygen-web")})})]})]},l)})})]})}),(0,s.jsx)("div",{className:"is-style-gl-s48"})]})})]})},save:function({attributes:e}){const{items:i=[],variation:l="two-column",heading:t=""}=e,n=a.useBlockProps.save({className:`image-grid-block variation-${l}`});return(0,s.jsx)("section",{...n,children:(0,s.jsxs)("div",{className:"container-1340",children:[(0,s.jsx)("div",{className:"is-style-gl-s48"}),(0,s.jsx)("div",{className:"wrapper",children:(0,s.jsxs)("div",{className:"get-started-ambry-block",children:[(0,s.jsx)("h2",{className:"block-title heading-3 mb-0",children:(0,s.jsx)(a.RichText.Content,{value:t||"Get Started with Ambry"})}),(0,s.jsx)("div",{className:"card-grid-block",children:i.map((e,i)=>{const l=e.link&&(e=>{if(!e||"string"!=typeof e)return!0;try{const a=new URL(e);return!!["http:","https:"].includes(a.protocol)&&!(e.startsWith("javascript:")||e.startsWith("data:")||e.startsWith("vbscript:"))}catch(e){return!1}})(e.link),t=l?"a":"div",n=e.headingTag||"h5";return(0,s.jsxs)(t,{className:"card-col",...l?{href:e.link}:{},"aria-label":e.title||"Card item",children:[e.imageUrl&&(0,s.jsx)("div",{className:"image-block",children:(0,s.jsx)("img",{src:e.imageUrl,srcSet:e.imageSrcSet||void 0,sizes:e.imageSizes||void 0,alt:e.imageAlt||e.title||"Company logo",loading:"lazy"})}),(0,s.jsxs)("div",{className:"card-info",children:[e.title&&(0,s.jsx)(n,{className:"link-btn mb-0",children:(0,s.jsx)(a.RichText.Content,{value:e.title})}),e.description&&(0,s.jsx)("div",{className:"card-description text-small",children:(0,s.jsx)(a.RichText.Content,{value:e.description})})]})]},i)})})]})}),(0,s.jsx)("div",{className:"is-style-gl-s48"})]})})}})}},i={};function l(e){var t=i[e];if(void 0!==t)return t.exports;var s=i[e]={exports:{}};return a[e](s,s.exports,l),s.exports}l.m=a,e=[],l.O=(a,i,t,s)=>{if(!i){var n=1/0;for(d=0;d<e.length;d++){for(var[i,t,s]=e[d],r=!0,c=0;c<i.length;c++)(!1&s||n>=s)&&Object.keys(l.O).every(e=>l.O[e](i[c]))?i.splice(c--,1):(r=!1,s<n&&(n=s));if(r){e.splice(d--,1);var o=t();void 0!==o&&(a=o)}}return a}s=s||0;for(var d=e.length;d>0&&e[d-1][2]>s;d--)e[d]=e[d-1];e[d]=[i,t,s]},l.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={150:0,82:0};l.O.j=a=>0===e[a];var a=(a,i)=>{var t,s,[n,r,c]=i,o=0;if(n.some(a=>0!==e[a])){for(t in r)l.o(r,t)&&(l.m[t]=r[t]);if(c)var d=c(l)}for(a&&a(i);o<n.length;o++)s=n[o],l.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return l.O(d)},i=globalThis.webpackChunkambrygen=globalThis.webpackChunkambrygen||[];i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i))})();var t=l.O(void 0,[82],()=>l(31));t=l.O(t)})();