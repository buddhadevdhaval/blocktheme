(()=>{"use strict";var e,a={31(){const e=window.wp.i18n,a=window.wp.blockEditor,i=window.wp.components,t=window.wp.element,l=window.wp.data,n=window.ReactJSXRuntime,s=[{key:"two-column",label:"2 Column Layout",itemCount:2,preview:"/wp-content/themes/ambrygen/assets/src/blocks/gallery/two-column.png"},{key:"five-column",label:"5 Column Layout",itemCount:5,preview:"/wp-content/themes/ambrygen/assets/src/blocks/gallery/five-column.png"}],r=(e={})=>Object.values(e).filter(e=>e?.source_url&&e?.width).map(e=>`${e.source_url} ${e.width}w`).join(", ");function o({title:t,imageUrl:l,imageAlt:s,onSelect:r,onRemove:o,selectLabel:c,replaceLabel:d,removeLabel:m,headingTag:g,onHeadingTagChange:h,link:b,onLinkChange:p}){return(0,n.jsx)(i.PanelBody,{title:t,initialOpen:!1,children:l?(0,n.jsxs)("div",{className:"image-preview",children:[(0,n.jsx)("img",{src:l,alt:s||""}),(0,n.jsxs)("div",{className:"image-actions",children:[(0,n.jsx)(a.MediaUploadCheck,{children:(0,n.jsx)(a.MediaUpload,{onSelect:r,allowedTypes:["image"],render:({open:e})=>(0,n.jsx)(i.Button,{onClick:e,variant:"secondary",children:d})})}),(0,n.jsx)(i.Button,{variant:"link",isDestructive:!0,onClick:o,children:m})]}),(0,n.jsx)(i.SelectControl,{label:(0,e.__)("Heading Tag","ambrygen-web"),value:g||"h5",options:[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}],onChange:h}),(0,n.jsx)(a.URLInput,{label:(0,e.__)("Link","ambrygen-web"),value:b||"",onChange:p,className:"components-base-control",__experimentalSuggestions:!0})]}):(0,n.jsx)(a.MediaUploadCheck,{children:(0,n.jsx)(a.MediaUpload,{onSelect:r,allowedTypes:["image"],render:({open:e})=>(0,n.jsx)(i.Button,{onClick:e,variant:"primary",children:c})})})})}const c=JSON.parse('{"UU":"ambrygen/gallery"}');(0,window.wp.blocks.registerBlockType)(c.UU,{edit:function({attributes:c,setAttributes:d,clientId:m}){const{items:g=[],variation:h="two-column",heading:b="",headingTag:p="h2"}=c,v=(s.find(e=>e.key===h)||s[0]).itemCount;(0,t.useEffect)(()=>{let a=[...g];for(0===a.length&&"two-column"===h&&(a=[{imageUrl:"/wp-content/themes/ambrygen/assets/src/images/image-grid/item-1.jpg",imageId:0,imageAlt:"Providers",imageSrcSet:"",imageSizes:"(max-width: 768px) 100vw, 50vw",title:(0,e.__)("Providers","ambrygen-web"),headingTag:"h5",description:(0,e.__)("Learn more about how we work with our providers","ambrygen-web"),link:"#"},{imageUrl:"/wp-content/themes/ambrygen/assets/src/images/image-grid/item-2.jpg",imageId:0,imageAlt:"Patients",imageSrcSet:"",imageSizes:"(max-width: 768px) 100vw, 50vw",title:(0,e.__)("Patients","ambrygen-web"),headingTag:"h5",description:(0,e.__)("Learn more about our offerings to patients","ambrygen-web"),link:"#"}]);a.length<v;)a.push({imageUrl:"",imageId:0,imageAlt:"",imageSrcSet:"",imageSizes:"(max-width: 768px) 100vw, 33vw",title:(0,e.__)("Grid Item Title","ambrygen-web"),headingTag:"h5",description:"",link:""});a.length>v&&(a=a.slice(0,v)),a.length!==g.length&&d({items:a})},[h,g,v,d]);const u=(0,t.useCallback)((e,a,i)=>{const t=[...g];t[e]={...t[e],[a]:i},d({items:t})},[g,d]),w=(0,t.useCallback)((e,a)=>{const i=a?.sizes||a?.media_details?.sizes||{},t=[...g];t[e]={...t[e],imageUrl:a.url,imageId:a.id,imageAlt:a.alt||"",imageSrcSet:r(i),imageSizes:"(max-width: 768px) 100vw, 33vw"},d({items:t})},[g,d]),x=e=>{e&&((0,l.dispatch)("core/block-editor").selectBlock(e),(0,l.dispatch)("core/edit-post").openGeneralSidebar("edit-post/block"))},y=(0,a.useBlockProps)({className:`image-grid-block variation-${h}`}),k=p||"h2";return(0,n.jsxs)(t.Fragment,{children:[(0,n.jsxs)(a.InspectorControls,{children:[(0,n.jsx)(i.PanelBody,{title:(0,e.__)("Heading Settings","ambrygen-web"),initialOpen:!0,children:(0,n.jsx)(i.SelectControl,{label:(0,e.__)("Main Heading Tag","ambrygen-web"),value:p,options:[{label:"H1",value:"h1"},{label:"H2",value:"h2"},{label:"H3",value:"h3"},{label:"H4",value:"h4"},{label:"H5",value:"h5"},{label:"H6",value:"h6"}],onChange:e=>d({headingTag:e})})}),(0,n.jsx)(i.PanelBody,{title:(0,e.__)("Choose Variation","ambrygen-web"),initialOpen:!0,children:(0,n.jsx)("div",{className:"ambrygen-variation-selector",children:s.map(e=>(0,n.jsxs)("button",{type:"button",className:"variation-card "+(h===e.key?"is-active":""),onClick:()=>d({variation:e.key}),children:[(0,n.jsx)("img",{src:e.preview,alt:e.label}),(0,n.jsx)("span",{children:e.label})]},e.key))})}),g.map((a,i)=>(0,n.jsx)(o,{title:(0,e.sprintf)(
// translators: %d is the image number.
// translators: %d is the image number.
(0,e.__)("Image Grid %d","ambrygen-web"),i+1),imageUrl:a.imageUrl,imageAlt:a.imageAlt,selectLabel:(0,e.__)("Select Image","ambrygen-web"),replaceLabel:(0,e.__)("Replace Image","ambrygen-web"),removeLabel:(0,e.__)("Remove Image","ambrygen-web"),onSelect:e=>w(i,e),onRemove:()=>u(i,"imageUrl",""),headingTag:a.headingTag,onHeadingTagChange:e=>u(i,"headingTag",e),link:a.link,onLinkChange:e=>u(i,"link",e)},i))]}),(0,n.jsx)("div",{...y,children:(0,n.jsxs)("div",{className:"get-started-ambry-block",children:[(0,n.jsx)(k,{className:"block-title heading-3 mb-0",children:(0,n.jsx)(a.RichText,{tagName:"span",value:b,onChange:e=>d({heading:e}),placeholder:(0,e.__)("Get Started with Ambry","ambrygen-web"),allowedFormats:["core/text-color"]})}),(0,n.jsx)("div",{className:"card-grid-block",children:g.map((i,t)=>{const l=i.headingTag||"h5";return(0,n.jsxs)("div",{className:"card-col",children:[(0,n.jsx)("div",{className:"image-block",role:"button",tabIndex:0,onClick:()=>x(m),onKeyDown:e=>{"Enter"!==e.key&&" "!==e.key||x(m)},children:(0,n.jsx)("img",{src:i.imageUrl||"/wp-content/themes/ambrygen/assets/src/images/uploads/default-image.webp",alt:i.imageAlt||i.title||"",loading:"lazy"})}),(0,n.jsxs)("div",{className:"card-info",children:[(0,n.jsx)(l,{className:"link-btn mb-0",children:(0,n.jsx)(a.RichText,{value:i.title,onChange:e=>u(t,"title",e),placeholder:(0,e.__)("Add title…","ambrygen-web")})}),(0,n.jsx)("div",{className:"card-description text-small",children:(0,n.jsx)(a.RichText,{value:i.description,onChange:e=>u(t,"description",e),placeholder:(0,e.__)("Add description…","ambrygen-web")})})]})]},t)})})]})})]})},save:function({attributes:e}){const{items:i=[],variation:t="two-column",heading:l=""}=e,s=a.useBlockProps.save({className:`image-grid-block variation-${t}`});return(0,n.jsx)("section",{...s,children:(0,n.jsxs)("div",{className:"get-started-ambry-block",children:[(0,n.jsx)("h2",{className:"block-title heading-3 mb-0",children:(0,n.jsx)(a.RichText.Content,{value:l||"Get Started with Ambry"})}),(0,n.jsx)("div",{className:"card-grid-block",children:i.map((e,i)=>{const t=e.link&&(e=>{if(!e||"string"!=typeof e)return!0;try{const a=new URL(e);return!!["http:","https:"].includes(a.protocol)&&!(e.startsWith("javascript:")||e.startsWith("data:")||e.startsWith("vbscript:"))}catch(e){return!1}})(e.link),l=t?"a":"div",s=e.headingTag||"h5";return(0,n.jsxs)(l,{className:"card-col",...t?{href:e.link}:{},"aria-label":e.title||"Card item",children:[e.imageUrl&&(0,n.jsx)("div",{className:"image-block",children:(0,n.jsx)("img",{src:e.imageUrl,srcSet:e.imageSrcSet||void 0,sizes:e.imageSizes||void 0,alt:e.imageAlt||e.title||"Company logo",loading:"lazy"})}),(0,n.jsxs)("div",{className:"card-info",children:[e.title&&(0,n.jsx)(s,{className:"link-btn mb-0",children:(0,n.jsx)(a.RichText.Content,{value:e.title})}),e.description&&(0,n.jsx)("div",{className:"card-description text-small",children:(0,n.jsx)(a.RichText.Content,{value:e.description})})]})]},i)})})]})})}})}},i={};function t(e){var l=i[e];if(void 0!==l)return l.exports;var n=i[e]={exports:{}};return a[e](n,n.exports,t),n.exports}t.m=a,e=[],t.O=(a,i,l,n)=>{if(!i){var s=1/0;for(d=0;d<e.length;d++){for(var[i,l,n]=e[d],r=!0,o=0;o<i.length;o++)(!1&n||s>=n)&&Object.keys(t.O).every(e=>t.O[e](i[o]))?i.splice(o--,1):(r=!1,n<s&&(s=n));if(r){e.splice(d--,1);var c=l();void 0!==c&&(a=c)}}return a}n=n||0;for(var d=e.length;d>0&&e[d-1][2]>n;d--)e[d]=e[d-1];e[d]=[i,l,n]},t.o=(e,a)=>Object.prototype.hasOwnProperty.call(e,a),(()=>{var e={150:0,82:0};t.O.j=a=>0===e[a];var a=(a,i)=>{var l,n,[s,r,o]=i,c=0;if(s.some(a=>0!==e[a])){for(l in r)t.o(r,l)&&(t.m[l]=r[l]);if(o)var d=o(t)}for(a&&a(i);c<s.length;c++)n=s[c],t.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return t.O(d)},i=globalThis.webpackChunkambrygen=globalThis.webpackChunkambrygen||[];i.forEach(a.bind(null,0)),i.push=a.bind(null,i.push.bind(i))})();var l=t.O(void 0,[82],()=>t(31));l=t.O(l)})();