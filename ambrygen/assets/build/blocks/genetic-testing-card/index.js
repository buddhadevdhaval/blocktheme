(()=>{"use strict";const e=window.wp.blocks,a=window.wp.i18n,n=window.wp.element,i=window.wp.compose,s=window.wp.blockEditor,l=window.wp.components,t=window.ReactJSXRuntime,r={small:"/wp-content/themes/ambrygen/assets/images/default-small.jpg",main:"/wp-content/themes/ambrygen/assets/images/default-main.jpg"},c="Genetic testing card",d=JSON.parse('{"UU":"ambrygen/genetic-testing-card"}');(0,e.registerBlockType)(d.UU,{edit:function e({attributes:d,setAttributes:m}){const{image:o,imageId:g,imageAlt:x,title:p,description:w,linkText:_,linkUrl:h,type:b}=d,j=(0,i.useInstanceId)(e);(0,n.useEffect)(()=>{o||m({image:r[b]||r.small,imageAlt:c})},[o,b,m]);const y=()=>{m({image:"",imageId:0,imageAlt:""})},u=(0,s.useBlockProps)({className:`genetic-cards__card genetic-cards__card--${b}`});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(s.InspectorControls,{children:(0,t.jsxs)(l.PanelBody,{title:(0,a.__)("Card Settings","ambrygen-web"),children:[(0,t.jsx)(l.PanelRow,{children:(0,t.jsx)(s.MediaUploadCheck,{children:(0,t.jsx)(s.MediaUpload,{onSelect:e=>{m({image:e.url,imageId:e.id,imageAlt:e.alt||""})},allowedTypes:["image"],value:g,render:({open:e})=>(0,t.jsx)(l.BaseControl,{id:`card-image-${j}`,label:(0,a.__)("Card Image","ambrygen-web"),children:o?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:o,alt:x,srcSet:`${o} 1x, ${o} 2x`,sizes:"(max-width: 600px) 100vw, 300px",loading:"lazy",style:{maxWidth:"100%",height:"auto",marginBottom:"10px",borderRadius:"8px"}}),(0,t.jsxs)("div",{style:{display:"flex",gap:"8px"},children:[(0,t.jsx)(l.Button,{onClick:e,variant:"secondary",isSmall:!0,children:(0,a.__)("Replace","ambrygen-web")}),(0,t.jsx)(l.Button,{onClick:y,variant:"link",isDestructive:!0,isSmall:!0,children:(0,a.__)("Remove","ambrygen-web")})]})]}):(0,t.jsx)(l.Button,{onClick:e,variant:"secondary",children:(0,a.__)("Upload Image","ambrygen-web")})})})})}),(0,t.jsx)(l.PanelRow,{children:(0,t.jsxs)(l.BaseControl,{id:`card-link-${j}`,label:(0,a.__)("Link","ambrygen-web"),className:"w-full",children:[(0,t.jsx)(l.TextControl,{value:_,onChange:e=>m({linkText:e}),label:(0,a.__)("Link Text","ambrygen-web"),placeholder:(0,a.__)("Learn more","ambrygen-web")}),(0,t.jsx)(s.URLInput,{value:h,onChange:e=>m({linkUrl:e}),label:(0,a.__)("Link URL","ambrygen-web")})]})})]})}),(0,t.jsxs)("div",{...u,children:[(0,t.jsx)("div",{className:`genetic-cards__image-wrapper new genetic-cards__image-wrapper--${b}`,children:(0,t.jsx)("img",{src:o||r[b]||r.small,alt:x||c,srcSet:`${o||r[b]} 1x, ${o||r[b]} 2x`,sizes:"(max-width: 600px) 100vw, 300px",loading:"lazy"})}),(0,t.jsxs)("div",{className:"genetic-cards__content "+("main"===b?"genetic-cards__content--main":""),children:[(0,t.jsx)(s.RichText,{tagName:"h3",className:"genetic-cards__title heading-6 mb-0",value:p,onChange:e=>m({title:e}),placeholder:(0,a.__)("Heading…","ambrygen-web")}),(0,t.jsx)("div",{className:"is-style-gl-s8"}),(0,t.jsx)(s.RichText,{tagName:"div",className:"genetic-cards__description body1",value:w,onChange:e=>m({description:e}),placeholder:(0,a.__)("Description…","ambrygen-web")}),(0,t.jsx)("div",{className:"is-style-gl-s20"}),_&&(0,t.jsx)("div",{className:"genetic-cards__link",children:(0,t.jsxs)("a",{href:h||"#",children:[_," ",(0,t.jsx)("span",{className:"icon",children:"→"})]})})]})]})]})},save:()=>null})})();