(()=>{"use strict";const e=window.wp.blocks,a=window.wp.blockEditor,n=window.wp.i18n,l=window.wp.components,t=window.wp.primitives,s=window.ReactJSXRuntime;var o=(0,s.jsx)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)(t.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})}),r=(0,s.jsx)(t.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,s.jsx)(t.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),i=(0,s.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(t.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),d=(0,s.jsx)(t.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,s.jsx)(t.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})});const c=window.wp.element,m=["ambrygen/mega-menu-patients","ambrygen/mega-menu-providers","ambrygen/mega-menu-solutions","ambrygen/mega-menu-company"],g=[{label:(0,n.__)("— None (Remove) —","ambrygen-web"),value:""},{label:(0,n.__)("Mega Menu Patients","ambrygen-web"),value:"ambrygen/mega-menu-patients"},{label:(0,n.__)("Mega Menu Providers","ambrygen-web"),value:"ambrygen/mega-menu-providers"},{label:(0,n.__)("Mega Menu Solutions","ambrygen-web"),value:"ambrygen/mega-menu-solutions"},{label:(0,n.__)("Mega Menu Company","ambrygen-web"),value:"ambrygen/mega-menu-company"}],b=[["ambrygen/mega-menu-patients",{}],["ambrygen/mega-menu-providers",{}],["ambrygen/mega-menu-solutions",{}],["ambrygen/mega-menu-company",{}]],_={label:(0,n.__)("New Item","ambrygen-web"),url:"#",hasMegaMenu:!1,megaMenuBlock:"",isSecondLevel:!1};function h({item:e,index:a,totalItems:t,onUpdate:d,onRemove:c,onMove:m}){return(0,s.jsxs)("div",{className:"header-editor__nav-item-panel",children:[(0,s.jsxs)("div",{className:"header-editor__nav-item-panel-header",children:[(0,s.jsxs)("span",{className:"header-editor__nav-item-panel-title",children:[(0,n.__)("Item","ambrygen-web")," ",a+1,":"," ",e.label||(0,n.__)("Untitled","ambrygen-web")]}),(0,s.jsxs)("div",{className:"header-editor__nav-item-panel-controls",children:[(0,s.jsx)(l.Button,{icon:o,size:"small",disabled:0===a,onClick:()=>m(a,-1),label:(0,n.__)("Move Up","ambrygen-web")}),(0,s.jsx)(l.Button,{icon:r,size:"small",disabled:a>=t-1,onClick:()=>m(a,1),label:(0,n.__)("Move Down","ambrygen-web")}),(0,s.jsx)(l.Button,{icon:i,size:"small",isDestructive:!0,disabled:t<=1,onClick:()=>c(a),label:(0,n.__)("Remove Item","ambrygen-web")})]})]}),(0,s.jsx)(l.TextControl,{label:(0,n.__)("Label","ambrygen-web"),value:e.label,onChange:e=>d(a,"label",e)}),(0,s.jsx)(l.TextControl,{label:(0,n.__)("URL","ambrygen-web"),value:e.url,onChange:e=>d(a,"url",e)}),(0,s.jsx)(l.ToggleControl,{label:(0,n.__)("Has Mega Menu","ambrygen-web"),checked:e.hasMegaMenu,onChange:e=>d(a,"hasMegaMenu",e)}),e.hasMegaMenu&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.SelectControl,{label:(0,n.__)("Mega Menu Block","ambrygen-web"),value:e.megaMenuBlock,options:g,onChange:e=>d(a,"megaMenuBlock",e)}),e.megaMenuBlock&&(0,s.jsx)(l.Button,{variant:"secondary",isDestructive:!0,onClick:()=>d(a,"megaMenuBlock",""),children:(0,n.__)("Remove Mega Menu","ambrygen-web")}),(0,s.jsx)(l.ToggleControl,{label:(0,n.__)("Second Level Style","ambrygen-web"),checked:e.isSecondLevel,onChange:e=>d(a,"isSecondLevel",e)})]})]})}function x({topBarVisible:e,topBarText:a,navItems:l,loginText:t,activeMenu:o,logoUrl:r,logoAlt:i,topBarLinkText:d,topBarLinkUrl:c,onNavClick:m}){return(0,s.jsxs)(s.Fragment,{children:[e&&(0,s.jsx)("div",{className:"top-bar center-align container-1340",id:"top-bar-ajax",children:(0,s.jsx)("div",{className:"top-bar__wrapper wrapper",children:(0,s.jsxs)("div",{className:"top-bar__row",children:[(0,s.jsxs)("div",{className:"top-bar__text",children:[a,d&&(0,s.jsx)("span",{style:{marginLeft:"5px"},children:(0,s.jsx)("a",{href:"#",className:"top-bar__link  is-style-link-text-btn",onClick:e=>e.preventDefault(),children:d})})]}),(0,s.jsx)("div",{className:"top-bar__close",children:(0,s.jsx)("span",{className:"top-bar__close-icon",children:"×"})})]})})}),(0,s.jsx)("div",{className:"header container-1340",children:(0,s.jsx)("div",{className:"wrapper",children:(0,s.jsxs)("div",{className:"header__inner d-flex justify-content-between",children:[(0,s.jsx)("div",{className:"header__logo logo",children:(0,s.jsx)("a",{href:"#",className:"header__logo-link",children:(0,s.jsx)("img",{className:"header__logo-img header__logo-img--default",src:r||"/wp-content/themes/ambrygen/assets/src/images/site-logo.svg",alt:i||(0,n.__)("Site Logo","ambrygen-web")})})}),(0,s.jsx)("div",{className:"header__right",children:(0,s.jsx)("div",{className:"nav",children:(0,s.jsx)("div",{className:"nav__overlay",children:(0,s.jsx)("div",{className:"nav__container",children:(0,s.jsx)("nav",{className:"nav__menu",children:(0,s.jsx)("ul",{className:"nav__list",children:l.map((e,a)=>{const n=o===e.megaMenuBlock,l=["nav__item",e.hasMegaMenu?"nav__item--has-children nav__item--menu-has-children":"",n?"nav__item--active":""].filter(Boolean).join(" ");return(0,s.jsxs)("li",{className:l,children:[(0,s.jsx)("div",{className:"nav__item--angle",children:e.hasMegaMenu?(0,s.jsx)("div",{className:"nav__item--tringle-touch",children:(0,s.jsx)("a",{type:"button",className:"nav__link",role:"menuitem",onClick:n=>{n.preventDefault(),m(e,a)},children:e.label})}):(0,s.jsx)("a",{type:"button",className:"nav__link",role:"menuitem",onClick:n=>{n.preventDefault(),m(e,a)},children:e.label})}),e.hasMegaMenu&&(0,s.jsx)("span",{className:"nav__expand"})]},a)})})})})})})}),(0,s.jsxs)("div",{className:"header__right--col header__btns--desktop",children:[(0,s.jsx)("div",{className:"header__search",children:(0,s.jsxs)("form",{id:"header-search-form",role:"search",children:[(0,s.jsx)("input",{type:"text",name:"s",placeholder:(0,n.__)("Search","ambrygen-web"),disabled:!0}),(0,s.jsx)("input",{type:"hidden",name:"search-type",value:"",className:"search-type-field"}),(0,s.jsx)("input",{type:"hidden",name:"learn-type",value:"",className:"learn-type-field"}),(0,s.jsx)("button",{className:"button",type:"button",disabled:!0,children:(0,n.__)("Search","ambrygen-web")})]})}),(0,s.jsx)("div",{className:"header__login",children:(0,s.jsx)("span",{className:"site-btn is-style-site-marker-btn",children:t})})]})]})})})]})}const p=JSON.parse('{"UU":"ambrygen/header"}');(0,e.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:t}){const{topBarText:o,topBarVisible:r,navItems:i,loginUrl:g,loginText:p,mobileCtaText:v,mobileCtaUrl:u}=e,j=(0,a.useBlockProps)({className:"header-section header-block-editor"}),[y,w]=(0,c.useState)(null),k=(e,a,n)=>{const l=[...i];l[e]={...l[e],[a]:n},t({navItems:l})},B=e=>{i.length<=1||t({navItems:i.filter((a,n)=>n!==e)})},C=(e,a)=>{const n=e+a;if(n<0||n>=i.length)return;const l=[...i];[l[e],l[n]]=[l[n],l[e]],t({navItems:l})},M=["header-editor__inner-blocks",y?"header-editor__inner-blocks--has-active header-editor__inner-blocks--filter-active":""].filter(Boolean).join(" ");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(a.InspectorControls,{children:[(0,s.jsxs)(l.PanelBody,{title:(0,n.__)("Logo Settings","ambrygen-web"),initialOpen:!1,children:[(0,s.jsx)(a.MediaUploadCheck,{children:(0,s.jsx)(a.MediaUpload,{onSelect:e=>{t({logoUrl:e.url,logoId:e.id,logoAlt:e.alt||e.title||"Site Logo"})},allowedTypes:["image"],value:e.logoId,render:({open:a})=>(0,s.jsxs)("div",{className:"editor-logo-controls",children:[e.logoUrl&&(0,s.jsx)("div",{style:{marginBottom:"10px"},children:(0,s.jsx)("img",{src:e.logoUrl,alt:e.logoAlt,style:{maxWidth:"100%",height:"auto",display:"block"}})}),(0,s.jsxs)("div",{style:{display:"flex",gap:"10px"},children:[(0,s.jsx)(l.Button,{onClick:a,variant:"secondary",children:e.logoUrl?(0,n.__)("Replace Logo","ambrygen-web"):(0,n.__)("Upload Logo","ambrygen-web")}),e.logoUrl&&(0,s.jsx)(l.Button,{onClick:()=>t({logoUrl:"",logoId:0,logoAlt:""}),variant:"link",isDestructive:!0,children:(0,n.__)("Remove","ambrygen-web")})]})]})})}),(0,s.jsx)("div",{style:{marginTop:"10px"},children:(0,s.jsx)("p",{className:"description",children:(0,n.__)("If no logo is selected, the default theme logo will be used.","ambrygen-web")})})]}),(0,s.jsxs)(l.PanelBody,{title:(0,n.__)("Top Bar","ambrygen-web"),initialOpen:!0,children:[(0,s.jsx)(l.ToggleControl,{label:(0,n.__)("Show Top Bar","ambrygen-web"),checked:r,onChange:e=>t({topBarVisible:e})}),r&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(l.TextControl,{label:(0,n.__)("Top Bar Text","ambrygen-web"),value:o,onChange:e=>t({topBarText:e})}),(0,s.jsx)(l.CardDivider,{}),(0,s.jsx)(l.TextControl,{label:(0,n.__)("Top Bar Link Text","ambrygen-web"),value:e.topBarLinkText,onChange:e=>t({topBarLinkText:e})}),(0,s.jsx)(l.TextControl,{label:(0,n.__)("Top Bar Link URL","ambrygen-web"),value:e.topBarLinkUrl,onChange:e=>t({topBarLinkUrl:e})})]})]}),(0,s.jsxs)(l.PanelBody,{title:(0,n.__)("Navigation Items","ambrygen-web"),initialOpen:!0,children:[(0,s.jsx)("p",{className:"components-base-control__help",children:(0,n.__)(`Manage navigation items. Current: ${i.length}`,"ambrygen-web")}),i.map((e,a)=>(0,s.jsx)(h,{item:e,index:a,totalItems:i.length,onUpdate:k,onRemove:B,onMove:C},a)),(0,s.jsx)(l.Button,{variant:"primary",icon:d,onClick:()=>{t({navItems:[...i,{..._}]})},className:"header-editor__add-nav-btn",children:(0,n.__)("Add Nav Item","ambrygen-web")})]}),(0,s.jsxs)(l.PanelBody,{title:(0,n.__)("CTA Buttons","ambrygen-web"),initialOpen:!1,children:[(0,s.jsx)(l.TextControl,{label:(0,n.__)("Login Text","ambrygen-web"),value:p,onChange:e=>t({loginText:e})}),(0,s.jsx)(l.TextControl,{label:(0,n.__)("Login URL","ambrygen-web"),value:g,onChange:e=>t({loginUrl:e})}),(0,s.jsx)(l.CardDivider,{}),(0,s.jsx)(l.TextControl,{label:(0,n.__)("Mobile CTA Text","ambrygen-web"),value:v,onChange:e=>t({mobileCtaText:e})}),(0,s.jsx)(l.TextControl,{label:(0,n.__)("Mobile CTA URL","ambrygen-web"),value:u,onChange:e=>t({mobileCtaUrl:e})})]})]}),(0,s.jsxs)("div",{...j,children:[(0,s.jsx)(x,{topBarVisible:r,topBarText:o,navItems:i,loginText:p,activeMenu:y,logoUrl:e.logoUrl,logoAlt:e.logoAlt,topBarLinkText:e.topBarLinkText,topBarLinkUrl:e.topBarLinkUrl,onNavClick:e=>{e.hasMegaMenu&&e.megaMenuBlock&&w(y===e.megaMenuBlock?null:e.megaMenuBlock)}}),(0,s.jsxs)("div",{className:"header-editor__mega-menus",children:[y&&(0,s.jsxs)("div",{className:"header-editor__active-header",children:[(0,s.jsxs)("span",{className:"header-editor__active-header-title",children:[(0,n.__)("Editing:","ambrygen-web")," ",y.replace("ambrygen/","").replace(/-/g," ").toUpperCase()]}),(0,s.jsxs)("button",{type:"button",className:"header-editor__active-header-close",onClick:()=>w(null),children:["✕ ",(0,n.__)("Close","ambrygen-web")]})]}),(0,s.jsxs)("div",{className:M,children:[y&&(0,s.jsx)("style",{children:`\n\t\t\t\t\t\t\t\t\t.header-editor__inner-blocks--filter-active > .block-editor-inner-blocks > .block-editor-block-list__layout > .wp-block[data-type="${y}"] {\n\t\t\t\t\t\t\t\t\t\tdisplay: grid;\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t`}),!y&&(0,s.jsxs)("p",{className:"header-editor__management-info",children:[(0,s.jsx)("strong",{children:(0,n.__)("Manage Mega Menu Blocks:","ambrygen-web")})," ",(0,n.__)("Click a block to edit, or use the toolbar to remove. Click + to add new blocks.","ambrygen-web")]}),(0,s.jsx)(a.InnerBlocks,{allowedBlocks:m,template:b,renderAppender:a.InnerBlocks.ButtonBlockAppender})]})]}),!y&&(0,s.jsx)("p",{className:"header-editor__help-text",children:(0,n.__)("Click on a menu item to open and edit its mega menu","ambrygen-web")})]})]})},save:()=>(0,s.jsx)(a.InnerBlocks.Content,{})})})();