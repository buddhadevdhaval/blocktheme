(()=>{"use strict";var e,t={27(){const e=window.wp.blocks,t=window.wp.blockEditor,i=window.wp.data,r=window.wp.components,s=window.ReactJSXRuntime,l=JSON.parse('{"UU":"ambrygen/testimonial"}');(0,e.registerBlockType)(l.UU,{edit:function({attributes:e,setAttributes:l}){const{selectedTestimonials:a=[]}=e,n=(0,i.useSelect)(e=>e("core").getEntityRecords("postType","testimonial",{per_page:20})),o=(0,i.useSelect)(e=>a.length?e("core").getEntityRecords("postType","testimonial",{include:a,per_page:a.length,_embed:!0}):[],[a]),d=Array.isArray(n)?n.map(e=>({label:e?.title?.rendered||`Testimonial ${e?.id}`,value:e?.id})):[],c=Array.isArray(o)?o:[],m=(0,t.useBlockProps)({className:"testimonial-block-editor-wrapper"});let p;return p=a.length?c.length?(0,s.jsx)("div",{className:"testimonials-preview",children:c.map(e=>(0,s.jsxs)("div",{className:"testimonial-card",children:[e._embedded?.["wp:featuredmedia"]?.[0]&&(0,s.jsx)("img",{src:e._embedded["wp:featuredmedia"][0].source_url,alt:e.title?.rendered||""}),(0,s.jsx)("h4",{children:e.title?.rendered||`Testimonial ${e.id}`}),e.excerpt?.rendered&&(0,s.jsx)("div",{className:"testimonial-excerpt",children:e.excerpt.rendered.replace(/<[^>]*>/g,"")})]},e.id))}):(0,s.jsx)("div",{className:"testimonial-loading",children:(0,s.jsx)(r.Spinner,{})}):(0,s.jsx)("div",{className:"testimonial-placeholder",children:(0,s.jsx)("p",{children:"Select testimonials to display."})}),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.InspectorControls,{children:(0,s.jsx)(r.PanelBody,{title:"Select Testimonials",children:(0,s.jsx)(r.SelectControl,{multiple:!0,label:"Testimonials",value:a,options:d,onChange:e=>l({selectedTestimonials:Array.isArray(e)?e.map(Number):[]})})})}),(0,s.jsx)("div",{...m,children:(0,s.jsx)("div",{className:"testimonial-block-editor",children:p})})]})},save:function({attributes:e}){return(0,s.jsx)("div",{className:"testimonial-block-frontend","data-testimonials":e.selectedTestimonials.join(",")})}})}},i={};function r(e){var s=i[e];if(void 0!==s)return s.exports;var l=i[e]={exports:{}};return t[e](l,l.exports,r),l.exports}r.m=t,e=[],r.O=(t,i,s,l)=>{if(!i){var a=1/0;for(c=0;c<e.length;c++){for(var[i,s,l]=e[c],n=!0,o=0;o<i.length;o++)(!1&l||a>=l)&&Object.keys(r.O).every(e=>r.O[e](i[o]))?i.splice(o--,1):(n=!1,l<a&&(a=l));if(n){e.splice(c--,1);var d=s();void 0!==d&&(t=d)}}return t}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[i,s,l]},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={649:0,597:0};r.O.j=t=>0===e[t];var t=(t,i)=>{var s,l,[a,n,o]=i,d=0;if(a.some(t=>0!==e[t])){for(s in n)r.o(n,s)&&(r.m[s]=n[s]);if(o)var c=o(r)}for(t&&t(i);d<a.length;d++)l=a[d],r.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return r.O(c)},i=globalThis.webpackChunkambrygen=globalThis.webpackChunkambrygen||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var s=r.O(void 0,[597],()=>r(27));s=r.O(s)})();